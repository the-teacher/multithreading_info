### К вопросу о многопоточности

#### Вступление

Есть несколько интересных для меня вопросов о многопоточности и многозадачности, которые бы мне хотелось для себя уяснить. Здесь я оставлю некоторые заметки по данному вопросу.

Буду рад, если кто-то оставит здесь свои критические замечания и дополнения.

#### Темы для исследования

* Однозадачные ОС
* Многозадачные ОС с один процессором
* Многозадачные ОС с несколькими процессорами
* Планировщик задач
* Многопоточность
* Форк, Префорк
* Процесс
* Поток, Тред, Нитка
* Фибры, Зеленые потоки, Системные нитки

#### Однозадачные ОС

Однозадачные ОС - такие, в которых в один момент времени может выполнятся только одна программа. Самый известный пример - DOS. В ДОСе можно было выполнять только одну программу за раз. Что бы запустить другое приложение, следовало остановить исполняемую программу и затем звпустить требуемое приложение.

На данный момент однозадачные ОС малораспространены.

Самые первые операционные системы были однозадачными, так как во времена первых ЭВМ не было необходимости (да и возможности) для реализации многозадачности. Однако уже в эпоху ламповых машин появились первые многозадачные системы.

Однозадачными были и ОС для первых микрокомпьютеров; к таковым относятся CP/M, MS-DOS, PC-DOS и др. Затем, с появлением процессоров 80286 и 80386, появилась аппаратная поддержка многозадачности и защита памяти, что позволяло реализовать на персональных компьютерах полноценные многозадачные ОС. Однако из-за необходимости сохранения совместимости с уже созданным программным обеспечением однозадачная MS-DOS сдавала свои позиции медленно, и прошло немало времени, прежде чем многозадачные системы - Linux, OS/2 и другие - окончательно вытеснили её. 

http://ru.osdev.wikia.com/wiki/%D0%9E%D0%B4%D0%BD%D0%BE%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%BD%D0%B0%D1%8F_%D0%9E%D0%A1

#### Многозадачные ОС с один процессором

Развитие техники способствовало появлению многозадачных ОС. В такой системе одновременно могло выполняться несколько приложений.

Это достигается с помощью Планировщика задач (Диспетчера операционной системы), который распределяет процессорное время между выполняемыми программами.

Процессорное время — время, затраченное процессором компьютера на обработку задачи (программы). Распределяется между процессами в соответствии с используемым режимом операционной системы.

Квант процессорного времени - максимальное время, которое может выделить процессор данной нити, до переключения на работу с другой нитью. Приостановка выполнения нити может произойти раньше, чем истечет квант времени (например нить закончилась и система переключилась на другую нить). 

http://publib.boulder.ibm.com/infocenter/pseries/v5r3/index.jsp?topic=/com.ibm.aix.prftungd/doc/prftungd/sched_proc_time_slice.htm

http://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D1%80%D0%BD%D0%BE%D0%B5_%D0%B2%D1%80%D0%B5%D0%BC%D1%8F

https://ru.wikipedia.org/wiki/%D0%94%D0%B8%D1%81%D0%BF%D0%B5%D1%82%D1%87%D0%B5%D1%80_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%BE%D0%B9_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B

#### Многозадачные ОС с несколькими процессорами

По моим нынешним представлениям особой разницы между однопроцессорными и многопроцессорными системами нет. Поскольку современные планировщики наверняка достаточно умны, что бы размазывать нагрузку по нескольким процессорам (ядрам).

Однако есть несколько понятий, которые связаны с многопроцессорными системами.

Симметричное мультипроцессирование (англ. Symmetric Multiprocessing, сокращённо SMP) — архитектура многопроцессорных компьютеров, в которой два или более одинаковых процессоров подключаются к общей памяти.

